# ุชูููุฐ ุตูุญุฉ ุงููุญุงุฏุซุงุช ูู ููุญุฉ ุชุญูู ุงูุฃุฏูู

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุชูููุฐ ุตูุญุฉ ุงููุญุงุฏุซุงุช ุงูุฎุงุตุฉ ุจุงูุดุงุช ุจูุช ูู ููุญุฉ ุงูุฃุฏูู ุจุดูู ูุงูู ูุน ุฌููุน ุงููููุฒุงุช ุงููุทููุจุฉ ูููุงู ููุชูุซูู ุงูููุฌูุฏ ูู `ADMIN_CHATBOT_API_DOCUMENTATION.md`.

---

## โ ุงููููุฒุงุช ุงููููุฐุฉ

### 1. **ุนุฑุถ ูุงุฆูุฉ ุงููุญุงุฏุซุงุช**
- โ ุนุฑุถ ุฌููุน ุงููุญุงุฏุซุงุช ูุน ุงูุชูุงุตูู ุงูุฃุณุงุณูุฉ
- โ ุนุฑุถ ุญุงูุฉ ุงููุญุงุฏุซุฉ (ูุดุท / ููุชูู)
- โ ุนุฑุถ ุนุฏุฏ ุงูุฑุณุงุฆู ูู ูู ูุญุงุฏุซุฉ
- โ ุนุฑุถ ุชุงุฑูุฎ ุจุฏุงูุฉ ุงููุญุงุฏุซุฉ
- โ ุนุฑุถ ุงุณู ุงูุนููู ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ูุนุฑู ุงูุฌูุณุฉ

### 2. **ุงูุจุญุซ ูุงูุชุตููุฉ**
- โ **ุงูุจุญุซ**: ุจุญุซ ูู ุงููุญุงุฏุซุงุช ุญุณุจ ุงูุงุณู ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ **ุงูุชุตููุฉ**: ุชุตููุฉ ุงููุญุงุฏุซุงุช ุญุณุจ ุงูุญุงูุฉ (ุงููู / ุงููุดุทุฉ / ุงูููุชููุฉ)
- โ **ุฒุฑ ุงููุณุญ**: ุฒุฑ X ููุณุญ ุงูุจุญุซ ุจุณุฑุนุฉ

### 3. **Pagination (ุงูุชุตูุญ)**
- โ ุนุฑุถ ุงููุญุงุฏุซุงุช ุจุดูู ุตูุญุงุช (10 ูุญุงุฏุซุงุช ููู ุตูุญุฉ)
- โ ุฃุฒุฑุงุฑ ุงูุชููู (ุงูุชุงูู / ุงูุณุงุจู)
- โ ุนุฑุถ ุฑูู ุงูุตูุญุฉ ุงูุญุงููุฉ ูุฅุฌูุงูู ุงูุตูุญุงุช
- โ ุชุนุทูู ุงูุฃุฒุฑุงุฑ ุนูุฏ ุงููุตูู ููุญุฏูุฏ

### 4. **ุนุฑุถ ุชูุงุตูู ุงููุญุงุฏุซุฉ**
- โ **Dialog ููุจุซู**: ูุงูุฐุฉ ูุจูุฑุฉ ูุนุฑุถ ุชูุงุตูู ุงููุญุงุฏุซุฉ
- โ **ูุนูููุงุช ุงููุญุงุฏุซุฉ**:
  - ุญุงูุฉ ุงููุญุงุฏุซุฉ
  - ุนุฏุฏ ุงูุฑุณุงุฆู
  - ููุช ุงูุจุฏุงูุฉ
  - ุขุฎุฑ ูุดุงุท
- โ **ุนุฑุถ ุงูุฑุณุงุฆู**: ุฌููุน ุงูุฑุณุงุฆู ุจูู ุงููุณุชุฎุฏู ูุงูุจูุช
- โ **ุชุตููู ูููุฒ**: ุฑุณุงุฆู ุงููุณุชุฎุฏู ูุงูุจูุช ุจุฃููุงู ูุฎุชููุฉ
- โ **ููุช ุงูุฅุฑุณุงู**: ุนุฑุถ ููุช ุฅุฑุณุงู ูู ุฑุณุงูุฉ
- โ **Scroll Area**: ููุทูุฉ ุชูุฑูุฑ ูููุญุงุฏุซุงุช ุงูุทูููุฉ

### 5. **ุฅุฏุงุฑุฉ ุงููุญุงุฏุซุงุช**
- โ **ุญุฐู ูุญุงุฏุซุฉ**: ุญุฐู ูุญุงุฏุซุฉ ูุญุฏุฏุฉ ูุน ุชุฃููุฏ
- โ **ุญุฐู ุงููุญุงุฏุซุงุช ุงููุฏููุฉ**: ุญุฐู ุฌููุน ุงููุญุงุฏุซุงุช ุงูุฃูุฏู ูู 30 ููู
- โ **Alert Dialog**: ุชุฃููุฏ ูุจู ุงูุญุฐู ูุชุฌูุจ ุงูุฃุฎุทุงุก

### 6. **ุงูุชุญุฏูุซ ุงูุชููุงุฆู**
- โ ุฅุนุงุฏุฉ ุชุญููู ุงููุญุงุฏุซุงุช ุนูุฏ ุชุบููุฑ:
  - ุฑูู ุงูุตูุญุฉ
  - ุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงูุตูุญุฉ
  - ูุต ุงูุจุญุซ
  - ุญุงูุฉ ุงูุชุตููุฉ

---

## ๐ง ุงูุชุญุฏูุซุงุช ุงูุชูููุฉ

### 1. **State Management**
```typescript
const [conversations, setConversations] = useState<ChatbotConversation[]>([]);
const [conversationsPage, setConversationsPage] = useState(1);
const [conversationsTotal, setConversationsTotal] = useState(0);
const [conversationsPerPage, setConversationsPerPage] = useState(10);
const [conversationsSearch, setConversationsSearch] = useState('');
const [conversationsStatus, setConversationsStatus] = useState('all');
const [selectedConversation, setSelectedConversation] = useState<any>(null);
const [conversationDetails, setConversationDetails] = useState<any>(null);
const [loadingDetails, setLoadingDetails] = useState(false);
```

### 2. **API Integration**
```typescript
const loadConversations = async () => {
  try {
    const response = await getChatbotConversations(token, {
      page: conversationsPage,
      per_page: conversationsPerPage,
      search: conversationsSearch || undefined,
      status: conversationsStatus !== 'all' ? conversationsStatus : undefined
    });
    setConversations(response.data?.conversations || []);
    setConversationsTotal(response.data?.pagination?.total || 0);
  } catch (error) {
    console.error('Error loading conversations:', error);
    toast.error('ูุดู ูู ุชุญููู ุงููุญุงุฏุซุงุช');
    setConversations([]);
    setConversationsTotal(0);
  }
};
```

### 3. **Load Conversation Details**
```typescript
const loadConversationDetails = async (sessionId: string) => {
  try {
    setLoadingDetails(true);
    const response = await fetch(`${import.meta.env.VITE_API_URL}/api/v1/admin/chatbot/conversations/${sessionId}`, {
      headers: {
        'Authorization': `Bearer ${token}`,
        'Accept': 'application/json'
      }
    });
    
    if (!response.ok) {
      throw new Error('Failed to load conversation details');
    }
    
    const data = await response.json();
    setConversationDetails(data.data);
  } catch (error) {
    console.error('Error loading conversation details:', error);
    toast.error('ูุดู ูู ุชุญููู ุชูุงุตูู ุงููุญุงุฏุซุฉ');
  } finally {
    setLoadingDetails(false);
  }
};
```

### 4. **useEffect ููุชุญุฏูุซ ุงูุชููุงุฆู**
```typescript
useEffect(() => {
  loadConversations();
}, [conversationsPage, conversationsPerPage, conversationsSearch, conversationsStatus]);
```

---

## ๐จ ููููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู

### 1. **Search and Filter Card**
```tsx
<Card>
  <CardContent className="p-4">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      {/* Search Input */}
      <div className="relative">
        <Search className="absolute top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400" />
        <Input
          placeholder="ุจุญุซ ูู ุงููุญุงุฏุซุงุช..."
          value={conversationsSearch}
          onChange={(e) => setConversationsSearch(e.target.value)}
        />
        {conversationsSearch && (
          <Button onClick={() => setConversationsSearch('')}>
            <X className="h-3 w-3" />
          </Button>
        )}
      </div>

      {/* Status Filter */}
      <Select value={conversationsStatus} onValueChange={setConversationsStatus}>
        <SelectTrigger>
          <SelectValue />
        </SelectTrigger>
        <SelectContent>
          <SelectItem value="all">ุฌููุน ุงููุญุงุฏุซุงุช</SelectItem>
          <SelectItem value="active">ุงููุดุทุฉ</SelectItem>
          <SelectItem value="ended">ุงูููุชููุฉ</SelectItem>
        </SelectContent>
      </Select>
    </div>
  </CardContent>
</Card>
```

### 2. **Conversations List**
```tsx
<Card>
  <CardContent className="p-0">
    {conversations.length === 0 ? (
      <div className="p-12 text-center">
        <MessageSquare className="h-12 w-12 mx-auto mb-4" />
        <p>ูุง ุชูุฌุฏ ูุญุงุฏุซุงุช</p>
      </div>
    ) : (
      <div className="divide-y">
        {conversations.map((conversation) => (
          <div key={conversation.id} className="p-4">
            {/* Conversation Item */}
          </div>
        ))}
      </div>
    )}
  </CardContent>
</Card>
```

### 3. **Pagination**
```tsx
{conversationsTotal > conversationsPerPage && (
  <div className="flex items-center justify-between">
    <div>
      ุนุฑุถ {((conversationsPage - 1) * conversationsPerPage) + 1} ุฅูู {Math.min(conversationsPage * conversationsPerPage, conversationsTotal)} ูู {conversationsTotal}
    </div>
    <div className="flex items-center gap-2">
      <Button onClick={() => setConversationsPage(p => Math.max(1, p - 1))}>
        <ChevronLeft />
      </Button>
      <span>{conversationsPage} / {Math.ceil(conversationsTotal / conversationsPerPage)}</span>
      <Button onClick={() => setConversationsPage(p => p + 1)}>
        <ChevronRight />
      </Button>
    </div>
  </div>
)}
```

### 4. **Conversation Details Dialog**
```tsx
<Dialog open={!!selectedConversation} onOpenChange={(open) => !open && setSelectedConversation(null)}>
  <DialogContent className="max-w-4xl max-h-[80vh]">
    <DialogHeader>
      <DialogTitle>ุชูุงุตูู ุงููุญุงุฏุซุฉ</DialogTitle>
      <DialogDescription>
        {selectedConversation?.customer_name}
      </DialogDescription>
    </DialogHeader>
    
    {loadingDetails ? (
      <Loader2 className="h-8 w-8 animate-spin" />
    ) : conversationDetails ? (
      <ScrollArea className="h-[60vh]">
        {/* Conversation Info */}
        <Card>
          <CardContent>
            <div className="grid grid-cols-2 gap-4">
              <div>
                <p>ุงูุญุงูุฉ</p>
                <Badge>{conversationDetails.conversation.status}</Badge>
              </div>
              {/* More info... */}
            </div>
          </CardContent>
        </Card>

        {/* Messages */}
        <div className="space-y-3">
          {conversationDetails.messages?.map((message) => (
            <div key={message.id}>
              <div className={message.sender === 'user' ? 'bg-gray-700' : 'bg-gray-100'}>
                <p>{message.message}</p>
                <p>{new Date(message.timestamp).toLocaleTimeString()}</p>
              </div>
            </div>
          ))}
        </div>
      </ScrollArea>
    ) : null}
  </DialogContent>
</Dialog>
```

---

## ๐ฆ Dependencies ุงููุถุงูุฉ

### Components:
- โ `Dialog`, `DialogContent`, `DialogDescription`, `DialogHeader`, `DialogTitle` from `@/components/ui/dialog`
- โ `ScrollArea` from `@/components/ui/scroll-area`

### Icons:
- โ `Search` - ููุจุญุซ
- โ `Filter` - ููุชุตููุฉ  
- โ `X` - ููุณุญ ุงูุจุญุซ
- โ `ChevronLeft`, `ChevronRight` - ููุชููู

---

## ๐ฏ ุฏุนู RTL

ุฌููุน ุงูููููุงุช ุชุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ุจุดูู ูุงูู:
- โ ุงุชุฌุงู ุงููุต ูู ุงููููู ูููุณุงุฑ
- โ ูุญุงุฐุงุฉ ุงูุนูุงุตุฑ ุจุดูู ุตุญูุญ
- โ ุนูุณ ุงุชุฌุงู ุงูุฃููููุงุช ูุงูุฃุฒุฑุงุฑ
- โ ุชุฑุฌูุฉ ุฌููุน ุงููุตูุต ููุนุฑุจูุฉ

```tsx
<div className={`flex ${isRTL ? 'flex-row-reverse' : 'flex-row'}`}>
<div className={isRTL ? 'text-right' : 'text-left'}>
<Input dir={isRTL ? 'rtl' : 'ltr'} />
```

---

## ๐จ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 1. **ุญูุงูุฉ ูู ุงูุจูุงูุงุช ุงููุงุฑุบุฉ**:
```typescript
setConversations(response.data?.conversations || []);
setConversationsTotal(response.data?.pagination?.total || 0);
```

### 2. **Try-Catch Blocks**:
```typescript
try {
  // API call
} catch (error) {
  console.error('Error:', error);
  toast.error('ูุดู ูู ุชุญููู ุงูุจูุงูุงุช');
  // Set default values
}
```

### 3. **Toast Notifications**:
- ุฑุณุงุฆู ูุฌุงุญ ุนูุฏ ุงูุญุฐู
- ุฑุณุงุฆู ุฎุทุฃ ุนูุฏ ูุดู ุงูุชุญููู
- ุฑุณุงุฆู ุชุฃููุฏ ุนูุฏ ุงูุฅุฌุฑุงุกุงุช ุงููููุฉ

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ูุงุฆูุฉ ุงููุญุต:
1. โ ุชุญููู ูุงุฆูุฉ ุงููุญุงุฏุซุงุช
2. โ ุงูุจุญุซ ูู ุงููุญุงุฏุซุงุช
3. โ ุงูุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ
4. โ ุงูุชููู ุจูู ุงูุตูุญุงุช
5. โ ุนุฑุถ ุชูุงุตูู ูุญุงุฏุซุฉ
6. โ ุญุฐู ูุญุงุฏุซุฉ ูุงุญุฏุฉ
7. โ ุญุฐู ุงููุญุงุฏุซุงุช ุงููุฏููุฉ
8. โ ุนุฑุถ ุฑุณุงุฆู ุงููุญุงุฏุซุฉ
9. โ ุฏุนู RTL
10. โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ:

#### 1. **ุนุฑุถ ุงููุญุงุฏุซุงุช**:
```
- ุงูุชุญ ุตูุญุฉ ุงูุดุงุช ุจูุช ูู ููุญุฉ ุงูุฃุฏูู
- ุงูุชูู ุฅูู ุชุจููุจ "ุงููุญุงุฏุซุงุช"
- ุชุญูู ูู ุนุฑุถ ูุงุฆูุฉ ุงููุญุงุฏุซุงุช
- ุชุญูู ูู ุนุฑุถ ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
```

#### 2. **ุงูุจุญุซ**:
```
- ุงูุชุจ ุงุณู ุนููู ูู ุญูู ุงูุจุญุซ
- ุชุญูู ูู ุชุตููุฉ ุงููุชุงุฆุฌ
- ุงูุณุญ ุงูุจุญุซ ุจุฒุฑ X
- ุชุญูู ูู ุนูุฏุฉ ุฌููุน ุงููุชุงุฆุฌ
```

#### 3. **ุงูุชุตููุฉ**:
```
- ุงุฎุชุฑ "ุงููุดุทุฉ" ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
- ุชุญูู ูู ุนุฑุถ ุงููุญุงุฏุซุงุช ุงููุดุทุฉ ููุท
- ุงุฎุชุฑ "ุงูููุชููุฉ"
- ุชุญูู ูู ุนุฑุถ ุงููุญุงุฏุซุงุช ุงูููุชููุฉ ููุท
```

#### 4. **ุนุฑุถ ุงูุชูุงุตูู**:
```
- ุงุถุบุท ุนูู ุฃููููุฉ ุงูุนูู
- ุชุญูู ูู ูุชุญ Dialog
- ุชุญูู ูู ุนุฑุถ ูุนูููุงุช ุงููุญุงุฏุซุฉ
- ุชุญูู ูู ุนุฑุถ ุฌููุน ุงูุฑุณุงุฆู
- ุชุญูู ูู ุงูุชูุฑูุฑ ูู ScrollArea
```

#### 5. **ุงูุญุฐู**:
```
- ุงุถุบุท ุนูู ุฃููููุฉ ุงูุญุฐู
- ุชุญูู ูู ุธููุฑ ุฑุณุงูุฉ ุงูุชุฃููุฏ
- ุงุถุบุท ุนูู "ุญุฐู"
- ุชุญูู ูู ุญุฐู ุงููุญุงุฏุซุฉ
- ุชุญูู ูู ุธููุฑ ุฑุณุงูุฉ ุงููุฌุงุญ
```

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

### 1. **ุชุตุฏูุฑ ุงููุญุงุฏุซุงุช**:
- ุชุตุฏูุฑ ูุญุงุฏุซุฉ ูุงุญุฏุฉ ุฅูู PDF
- ุชุตุฏูุฑ ุฌููุน ุงููุญุงุฏุซุงุช ุฅูู Excel

### 2. **ุชุญูููุงุช ุฅุถุงููุฉ**:
- ูุชูุณุท ูุฏุฉ ุงููุญุงุฏุซุฉ
- ุฃูุซุฑ ุงูุฃููุงุช ูุดุงุทุงู
- ูุนุฏู ุงูุฑุถุง

### 3. **ุชุตููุฉ ูุชูุฏูุฉ**:
- ุชุตููุฉ ุญุณุจ ุงูุชุงุฑูุฎ
- ุชุตููุฉ ุญุณุจ ุนุฏุฏ ุงูุฑุณุงุฆู
- ุชุตููุฉ ุญุณุจ ููุน ุงููุญุงุฏุซุฉ

### 4. **ุฅุดุนุงุฑุงุช ููุฑูุฉ**:
- ุฅุดุนุงุฑ ุนูุฏ ุจุฏุงูุฉ ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ
- ุฅุดุนุงุฑ ุนูุฏ ูุตูู ุฑุณุงูุฉ ุฌุฏูุฏุฉ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุนุฏุฏ ุงูุฃุณุทุฑ ุงููุถุงูุฉ: ~150
### ุนุฏุฏ ุงูุฏูุงู ุงูุฌุฏูุฏุฉ: 2
- `loadConversations()`
- `loadConversationDetails()`

### ุนุฏุฏ ุงูููููุงุช ุงููุถุงูุฉ: 5
- Search Input
- Filter Select
- Pagination
- Conversation Details Dialog
- Empty State

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃุฏุงุก**: ูุชู ุชุญููู 10 ูุญุงุฏุซุงุช ููุท ูู ูู ุตูุญุฉ ูุชุญุณูู ุงูุฃุฏุงุก
2. **ุงูุชุฎุฒูู ุงููุคูุช**: ูุง ููุฌุฏ ุชุฎุฒูู ูุคูุช ุญุงููุงูุ ูุชู ุฅุนุงุฏุฉ ุงูุชุญููู ุนูุฏ ูู ุชุบููุฑ
3. **ุงูุฃูุงู**: ุฌููุน ุงูุทูุจุงุช ุชุณุชุฎุฏู Bearer Token ูููุตุงุฏูุฉ
4. **ุงูู  API**: ุฌููุน ุงูุทูุจุงุช ูุชูุงููุฉ ูุน `ADMIN_CHATBOT_API_DOCUMENTATION.md`

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชูููุฐ ุตูุญุฉ ุงููุญุงุฏุซุงุช ุจุดูู ูุงูู ูุน ุฌููุน ุงููููุฒุงุช ุงููุทููุจุฉ:
- โ ุนุฑุถ ุงููุญุงุฏุซุงุช
- โ ุงูุจุญุซ ูุงูุชุตููุฉ
- โ Pagination
- โ ุนุฑุถ ุงูุชูุงุตูู
- โ ุฅุฏุงุฑุฉ ุงููุญุงุฏุซุงุช
- โ ุฏุนู RTL
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุชุตููู ุงุญุชุฑุงูู

ุงูุตูุญุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ุงูููุฑู! ๐

---

ุชู ุงูุชุญุฏูุซ ุจุชุงุฑูุฎ: 22 ุฃูุชูุจุฑ 2025
ุงูุฅุตุฏุงุฑ: 1.0

